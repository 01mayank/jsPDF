/*
 jsPDF ( 2012-06-27T21:29 commit ID cf9fac8bcd555ba8f7478e3be4d64368c1a65386 )
Copyright (c) 2010 James Hall, https://github.com/MrRio/jsPDF
Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
MIT license.
 
jsPDF addImage plugin (JPEG only at this time)
Copyright (c) 2012 https://github.com/siefkenj/
*/
var jsPDF=function(){function y(a,j,b){a="undefined"===typeof a?"p":a.toString().toLowerCase();"undefined"===typeof j&&(j="mm");"undefined"===typeof b&&(b="a4");var l=b.toString().toLowerCase(),i=[],k=0,p={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},o="0 g",r=0,g=2,s=!1,u=[],D=[],x=[],z={toKey:{},toNameAndType:{}},J="helvetica",K="normal",L=16,F,m,A,f,t={},o="0 g",M=0,N=0,n={},P=new O(n);if("pt"==j)f=1;else if("mm"==j)f=72/25.4;else if("cm"==j)f=72/
2.54;else if("in"==j)f=72;else throw"Invalid unit: "+j;if(l in p)m=p[l][1]/f,A=p[l][0]/f;else try{m=b[1],A=b[0]}catch(T){throw"Invalid format: "+b;}if("p"===a||"portrait"===a)a="p";else if("l"===a||"landscape"===a)a="l",a=A,A=m,m=a;else throw"Invalid orientation: "+a;var h=function(e){return e.toFixed(2)},q=function(e){return e.toFixed(3)},E=function(e){var v=e.toFixed(0);return 10>e?"0"+v:v},c=function(e){s?u[r].push(e):(i.push(e),k+=e.length+1)},B=function(){g++;D[g]=k;c(g+" 0 obj");return g},R=
function(e){c("stream");c(e);c("endstream")},a=function(e,v,d,c){var a="F"+(x.length+1).toString(10);x.push({key:a,number:g,name:e,fontName:v,type:d});z.toKey[v]===c&&(z.toKey[v]={});z.toKey[v][d]=a;z.toNameAndType===c&&(z.toNameAndType[a]=[v,d])},S=function(){r++;s=!0;u[r]=[];c(h(0.200025*f)+" w");c("0 G");0!==M&&c(M.toString(10)+" J");0!==N&&c(N.toString(10)+" j")},G=function(e,c){var d;try{d=z.toKey[e][c]}catch(a){d=void 0}if(!d)throw Error("Unable to look up font label for font '"+e+"', '"+c+
"'. Refer to getFontList() for available fonts.");return d},Q=function(){s=!1;i=[];D=[];c("%PDF-1.3");var e=A*f,a=m*f,d,b;for(d=1;d<=r;d++)B(),c("<</Type /Page"),c("/Parent 1 0 R"),c("/Resources 2 0 R"),c("/Contents "+(g+1)+" 0 R>>"),c("endobj"),b=u[d].join("\n"),B(),c("<</Length "+b.length+">>"),R(b),c("endobj");D[1]=k;c("1 0 obj");c("<</Type /Pages");d="/Kids [";for(b=0;b<r;b++)d+=3+2*b+" 0 R ";c(d+"]");c("/Count "+r);c("/MediaBox [0 0 "+h(e)+" "+h(a)+"]");c(">>");c("endobj");e=0;for(a=x.length;e<
a;e++)d=x[e],B(),d.number=g,c("<</BaseFont/"+d.name+"/Type/Font"),c("/Subtype/Type1>>"),c("endobj");P.publish("putResources");D[2]=k;c("2 0 obj");c("<<");c("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]");c("/Font <<");for(e=0;e<x.length;e++)c("/"+x[e].key+" "+x[e].number+" 0 R");c(">>");c("/XObject <<");P.publish("putXobjectDict");c(">>");c(">>");c("endobj");B();c("<<");c("/Producer (jsPDF 20120619)");void 0!=t.title&&c("/Title ("+w(t.title)+")");void 0!=t.subject&&c("/Subject ("+w(t.subject)+")");
void 0!=t.author&&c("/Author ("+w(t.author)+")");void 0!=t.keywords&&c("/Keywords ("+w(t.keywords)+")");void 0!=t.creator&&c("/Creator ("+w(t.creator)+")");e=new Date;c("/CreationDate (D:"+[e.getFullYear(),E(e.getMonth()+1),E(e.getDate()),E(e.getHours()),E(e.getMinutes()),E(e.getSeconds())].join("")+")");c(">>");c("endobj");B();c("<<");c("/Type /Catalog");c("/Pages 1 0 R");c("/OpenAction [3 0 R /FitH null]");c("/PageLayout /OneColumn");c(">>");c("endobj");e=k;c("xref");c("0 "+(g+1));c("0000000000 65535 f ");
for(a=1;a<=g;a++)d=D[a].toFixed(0),d=10>d.length?Array(11-d.length).join("0")+d:d,c(d+" 00000 n ");c("trailer");c("<<");c("/Size "+(g+1));c("/Root "+g+" 0 R");c("/Info "+(g-1)+" 0 R");c(">>");c("startxref");c(e);c("%%EOF");s=!0;return i.join("\n")},w=function(e){for(var a=e.length,d=!1,c,f,b;0!==a&&!d;)e.charCodeAt(a-1)>>8&&(d=!0),a--;if(d){d=[254,255];a=0;for(c=e.length;a<c;a++)f=e.charCodeAt(a),b=f>>8,d.push(b),d.push(f-(b<<8));e=String.fromCharCode.apply(void 0,d)}return e.replace(/\\/g,"\\\\").replace(/\(/g,
"\\(").replace(/\)/g,"\\)")},H=function(e){var a="S";if("F"===e)a="f";else if("FD"===e||"DF"===e)a="B";return a};n.internal={pdfEscape:w,getStyle:H,getFont:G,btoa:C,write:function(e,a,d,f){c(1===arguments.length?arguments[0]:Array.prototype.join.call(arguments," "))},getCoordinateString:function(e){return h(e*f)},getVerticalCoordinateString:function(e){return h((m-e)*f)},collections:{},newObject:B,putStream:R,events:P,scaleFactor:f,pageSize:{width:A,height:m}};n.addPage=function(){S();return this};
n.text=function(e,a,d){"string"===typeof d&&d.match(/[\n\r]/)&&(d=d.split(/\r\n|\r|\n/g));if("string"===typeof d)d=w(d);else if(d instanceof Array){for(var d=d.concat(),b=d.length-1;-1!==b;b--)d[b]=w(d[b]);d=d.join(") Tj\nT* (")}else throw Error('Type of text must be string or Array. "'+d+'" is not recognized.');c("BT\n/"+F+" "+L+" Tf\n"+L+" TL\n"+o+"\n"+h(e*f)+" "+h((m-a)*f)+" Td\n("+d+") Tj\nET");return this};n.line=function(e,a,d,b){c(h(e*f)+" "+h((m-a)*f)+" m "+h(d*f)+" "+h((m-b)*f)+" l S");return this};
n.lines=function(e,a,d,b,g){g=H(g);b=void 0===b?[1,1]:b;c(q(e*f)+" "+q((m-a)*f)+" m ");for(var h=b[0],b=b[1],j=0,i=d.length,k,l,n,p,o=a;j<i;j++)a=d[j],2===a.length?(e=a[0]*h+e,o=a[1]*b+o,c(q(e*f)+" "+q((m-o)*f)+" l")):(k=a[0]*h+e,l=a[1]*b+o,n=a[2]*h+e,p=a[3]*b+o,e=a[4]*h+e,o=a[5]*b+o,c(q(k*f)+" "+q((m-l)*f)+" "+q(n*f)+" "+q((m-p)*f)+" "+q(e*f)+" "+q((m-o)*f)+" c"));c(g);return this};n.rect=function(e,a,d,b,g){g=H(g);c([h(e*f),h((m-a)*f),h(d*f),h(-b*f),"re",g].join(" "));return this};n.triangle=function(e,
a,d,c,b,f,g){this.lines(e,d,[[d-e,c-a],[b-d,f-c],[e-b,a-f]],[1,1],g);return this};n.ellipse=function(e,a,d,b,g){var g=H(g),j=4/3*(Math.SQRT2-1)*d,i=4/3*(Math.SQRT2-1)*b;c([h((e+d)*f),h((m-a)*f),"m",h((e+d)*f),h((m-(a-i))*f),h((e+j)*f),h((m-(a-b))*f),h(e*f),h((m-(a-b))*f),"c"].join(" "));c([h((e-j)*f),h((m-(a-b))*f),h((e-d)*f),h((m-(a-i))*f),h((e-d)*f),h((m-a)*f),"c"].join(" "));c([h((e-d)*f),h((m-(a+i))*f),h((e-j)*f),h((m-(a+b))*f),h(e*f),h((m-(a+b))*f),"c"].join(" "));c([h((e+j)*f),h((m-(a+b))*f),
h((e+d)*f),h((m-(a+i))*f),h((e+d)*f),h((m-a)*f),"c",g].join(" "));return this};n.circle=function(a,c,d,b){return this.ellipse(a,c,d,d,b)};n.setProperties=function(a){t=a;return this};n.addImage=function(){return this};n.setFontSize=function(a){L=a;return this};n.setFont=function(a){a=a.toLowerCase();F=G(a,K);J=a;return this};n.setFontType=function(a){a=a.toLowerCase();F=G(J,a);K=a;return this};n.getFontList=function(){return{HELVETICA:["normal","bold","italic","bolditalic"],TIMES:["normal","bold",
"italic","bolditalic"],COURIER:["normal","bold","italic","bolditalic"]}};n.setLineWidth=function(a){c((a*f).toFixed(2)+" w");return this};n.setDrawColor=function(a,b,d){a=0===a&&0===b&&0===d||"undefined"===typeof b?q(a/255)+" G":[q(a/255),q(b/255),q(d/255),"RG"].join(" ");c(a);return this};n.setFillColor=function(a,b,d){a=0===a&&0===b&&0===d||"undefined"===typeof b?q(a/255)+" g":[q(a/255),q(b/255),q(d/255),"rg"].join(" ");c(a);return this};n.setTextColor=function(a,b,c){o=0===a&&0===b&&0===c||"undefined"===
typeof b?q(a/255)+" g":[q(a/255),q(b/255),q(c/255),"rg"].join(" ");return this};n.CapJoinStyles={"0":0,butt:0,but:0,bevel:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,milter:2};n.setLineCap=function(a,b){var d=this.CapJoinStyles[a];if(d===b)throw Error("Line cap style of '"+a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");M=d;c(d.toString(10)+" J")};n.setLineJoin=function(a,b){var d=this.CapJoinStyles[a];if(d===b)throw Error("Line join style of '"+
a+"' is not recognized. See or extend .CapJoinStyles property for valid styles");N=d;c(d.toString(10)+" j")};n.output=function(a){switch(a){case void 0:return Q();case "datauristring":case "dataurlstring":return"data:application/pdf;base64,"+C(Q());case "datauri":case "dataurl":document.location.href="data:application/pdf;base64,"+C(Q());break;default:throw Error('Output type "'+a+'" is not supported.');}};a("Helvetica","helvetica","normal");a("Helvetica-Bold","helvetica","bold");a("Helvetica-Oblique",
"helvetica","italic");a("Helvetica-BoldOblique","helvetica","bolditalic");a("Courier","courier","normal");a("Courier-Bold","courier","bold");a("Courier-Oblique","courier","italic");a("Courier-BoldOblique","courier","bolditalic");a("Times-Roman","times","normal");a("Times-Bold","times","bold");a("Times-Italic","times","italic");a("Times-BoldItalic","times","bolditalic");F=G(J,K);S();if(y.API){var a=y.API,I;for(I in a)a.hasOwnProperty(I)&&(n[I]=a[I])}return n}if("undefined"===typeof C)var C=function(a){var j=
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),b,l,i,k,p=0,o=0,r="",r=[];do b=a.charCodeAt(p++),l=a.charCodeAt(p++),i=a.charCodeAt(p++),k=b<<16|l<<8|i,b=k>>18&63,l=k>>12&63,i=k>>6&63,k&=63,r[o++]=j[b]+j[l]+j[i]+j[k];while(p<a.length);r=r.join("");a=a.length%3;return(a?r.slice(0,a-3):r)+"===".slice(a||3)};var O=function(a){this.topics={};this.context=a;this.publish=function(a,b,l,i){if(this.topics[a]){var k=this.topics[a],p=Array.prototype.slice.call(arguments,1),o=[],
r,g,s,u;g=0;for(s=k.length;g<s;g++)u=k[g],r=u[0],u[1]&&(u[0]=function(){},o.push(g)),r.apply(this.context,p);g=0;for(s=o.length;g<s;g++)k.splice(o[g],1)}};this.subscribe=function(a,b,l){this.topics[a]?this.topics[a].push([b,l]):this.topics[a]=[[b,l]];return{topic:a,callback:b}};this.unsubscribe=function(a){if(this.topics[a.topic])for(var b=this.topics[a.topic],l=0,i=b.length;l<i;l++)b[l][0]===a.callback&&b.splice(l,1)}};y.API={};return y}();
(function(y){var C=function(){var a=this.internal.collections.addImage_images,j;for(j in a){var b=a[j],l=this.internal.newObject(),i=this.internal.write,k=this.internal.putStream;b.n=l;i("<</Type /XObject");i("/Subtype /Image");i("/Width "+b.w);i("/Height "+b.h);"Indexed"===b.cs?i("/ColorSpace [/Indexed /DeviceRGB "+(b.pal.length/3-1)+" "+(l+1)+" 0 R]"):(i("/ColorSpace /"+b.cs),"DeviceCMYK"===b.cs&&i("/Decode [1 0 1 0 1 0 1 0]"));i("/BitsPerComponent "+b.bpc);"f"in b&&i("/Filter /"+b.f);"dp"in b&&
i("/DecodeParms <<"+b.dp+">>");if("trns"in b&&b.trns.constructor==Array)for(var p="",o=0;o<b.trns.length;o++)p+=b[p][o]+" "+b.trns[o]+" ",i("/Mask ["+p+"]");"smask"in b&&i("/SMask "+(l+1)+" 0 R");i("/Length "+b.data.length+">>");k(b.data);i("endobj")}},O=function(){var a=this.internal.collections.addImage_images,j=this.internal.write,b,l;for(l in a)b=a[l],j("/I"+b.i,b.n,"0","R")};y.addImage=function(a,j,b,l,i,k){if("JPEG"!==j.toUpperCase())throw Error("addImage currently only supports format 'JPEG', not '"+
j+"'");var p,j=this.internal.collections.addImage_images,o=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString;if(j)if(Object.keys)p=Object.keys(j).length;else{var g=j,s=0;for(p in g)g.hasOwnProperty(p)&&s++;p=s}else p=0,this.internal.collections.addImage_images=j={},this.internal.events.subscribe("putResources",C),this.internal.events.subscribe("putXobjectDict",O);a:{if(255===!a.charCodeAt(0)||216===!a.charCodeAt(1)||255===!a.charCodeAt(2)||224===!a.charCodeAt(3)||74===
!a.charCodeAt(6)||70===!a.charCodeAt(7)||73===!a.charCodeAt(8)||70===!a.charCodeAt(9)||0===!a.charCodeAt(10))throw Error("getJpegSize requires a binary jpeg file");for(var s=256*a.charCodeAt(4)+a.charCodeAt(5),g=4,u=a.length;g<u;){g+=s;if(255!==a.charCodeAt(g))throw Error("getJpegSize could not find the size of the image");if(192===a.charCodeAt(g+1)){s=256*a.charCodeAt(g+5)+a.charCodeAt(g+6);g=256*a.charCodeAt(g+7)+a.charCodeAt(g+8);g=[g,s];break a}g+=2;s=256*a.charCodeAt(g)+a.charCodeAt(g+1)}g=void 0}a=
{w:g[0],h:g[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:p,data:a};j[p]=a;!i&&!k&&(k=i=-96);0>i&&(i=-72*a.w/i/this.internal.scaleFactor);0>k&&(k=-72*a.h/k/this.internal.scaleFactor);0===i&&(i=k*a.w/a.h);0===k&&(k=i*a.h/a.w);this.internal.write("q",o(i),"0 0",o(k),o(b),r(l+k),"cm /I"+a.i,"Do Q");return this}})(jsPDF.API);